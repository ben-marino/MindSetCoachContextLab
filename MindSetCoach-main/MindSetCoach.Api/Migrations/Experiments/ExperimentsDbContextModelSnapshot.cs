// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using MindSetCoach.Api.Data;

#nullable disable

namespace MindSetCoach.Api.Migrations.Experiments
{
    [DbContext(typeof(ExperimentsDbContext))]
    partial class ExperimentsDbContextModelSnapshot : ModelSnapshot
    {
        protected override void BuildModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder.HasAnnotation("ProductVersion", "9.0.10");

            modelBuilder.Entity("MindSetCoach.Api.Models.Experiments.ClaimReceipt", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<int>("ClaimId")
                        .HasColumnType("INTEGER");

                    b.Property<double>("Confidence")
                        .HasColumnType("REAL");

                    b.Property<DateTime>("EntryDate")
                        .HasColumnType("TEXT");

                    b.Property<int>("JournalEntryId")
                        .HasColumnType("INTEGER");

                    b.Property<string>("MatchedSnippet")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.HasKey("Id");

                    b.HasIndex("ClaimId");

                    b.HasIndex("JournalEntryId");

                    b.ToTable("ClaimReceipts");
                });

            modelBuilder.Entity("MindSetCoach.Api.Models.Experiments.ExperimentClaim", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<string>("ClaimText")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<bool>("IsSupported")
                        .HasColumnType("INTEGER");

                    b.Property<string>("Persona")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<int>("RunId")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("RunId");

                    b.ToTable("ExperimentClaims");
                });

            modelBuilder.Entity("MindSetCoach.Api.Models.Experiments.ExperimentRun", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<int>("AthleteId")
                        .HasColumnType("INTEGER");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("TEXT");

                    b.Property<decimal>("EstimatedCost")
                        .HasPrecision(18, 6)
                        .HasColumnType("TEXT");

                    b.Property<string>("Model")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT");

                    b.Property<string>("Persona")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("PromptVersion")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<string>("Provider")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("TEXT");

                    b.Property<DateTime>("StartedAt")
                        .HasColumnType("TEXT");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<double>("Temperature")
                        .HasColumnType("REAL");

                    b.Property<int>("TokensUsed")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("AthleteId");

                    b.HasIndex("StartedAt");

                    b.HasIndex("Status");

                    b.ToTable("ExperimentRuns");
                });

            modelBuilder.Entity("MindSetCoach.Api.Models.Experiments.PositionTest", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER");

                    b.Property<bool>("FactRetrieved")
                        .HasColumnType("INTEGER");

                    b.Property<string>("NeedleFact")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("Position")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<string>("ResponseSnippet")
                        .IsRequired()
                        .HasColumnType("TEXT");

                    b.Property<int>("RunId")
                        .HasColumnType("INTEGER");

                    b.HasKey("Id");

                    b.HasIndex("RunId");

                    b.ToTable("PositionTests");
                });

            modelBuilder.Entity("MindSetCoach.Api.Models.Experiments.ClaimReceipt", b =>
                {
                    b.HasOne("MindSetCoach.Api.Models.Experiments.ExperimentClaim", "ExperimentClaim")
                        .WithMany("Receipts")
                        .HasForeignKey("ClaimId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ExperimentClaim");
                });

            modelBuilder.Entity("MindSetCoach.Api.Models.Experiments.ExperimentClaim", b =>
                {
                    b.HasOne("MindSetCoach.Api.Models.Experiments.ExperimentRun", "ExperimentRun")
                        .WithMany("Claims")
                        .HasForeignKey("RunId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ExperimentRun");
                });

            modelBuilder.Entity("MindSetCoach.Api.Models.Experiments.PositionTest", b =>
                {
                    b.HasOne("MindSetCoach.Api.Models.Experiments.ExperimentRun", "ExperimentRun")
                        .WithMany("PositionTests")
                        .HasForeignKey("RunId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ExperimentRun");
                });

            modelBuilder.Entity("MindSetCoach.Api.Models.Experiments.ExperimentClaim", b =>
                {
                    b.Navigation("Receipts");
                });

            modelBuilder.Entity("MindSetCoach.Api.Models.Experiments.ExperimentRun", b =>
                {
                    b.Navigation("Claims");

                    b.Navigation("PositionTests");
                });
#pragma warning restore 612, 618
        }
    }
}
